<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"  
	xmlns:jsf="http://xmlns.jcp.org/jsf/passthrough" lang="en">

<head>
<title>Produtos</title>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"></link>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css"></link>
<link type="text/css" rel="stylesheet" href="/resources/css/estilo.css"></link>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script type="text/javascript">
		function confirmarExclusao(nome) {
			return window.confirm("Deseja excluir o " + nome + "?");
		}
	</script>
</head>
<body>
	<h3>Cadastro de Produtos</h3>
	<h:form id="form-cadastro" prependId="false" style="width: 400px;">
		<div class="form-group">
			<h:outputLabel jsf:for="campo-descricao" value="Descrição:" />
			<h:inputText id="campo-descricao"
				value="#{produtoController.produto.descricao}"
				styleClass="form-control" jsf:placeholder="Digite a descrição"
				jsf:autofocus="true" />
		</div>

		<div class="form-group">
			<h:outputLabel jsf:for="campo-valor-unitario" value="Valor Unitário:" />
			<h:inputText id="campo-valor-unitario" styleClass="form-control"
				value="#{produtoController.produto.valorUnitario}"
				jsf:placeholder="Digite o valor unitário" />
		</div>

		<h:commandButton
			actionListener="#{produtoController.prepararInclusao()}" value="Novo"
			styleClass="btn btn-default" />
		<h:commandButton styleClass="btn btn-primary" id="botao-salvar"
			actionListener="#{produtoController.salvar()}" value="Salvar" />
		<div class="escondida">
			<h:commandButton actionListener="#{produtoController.excluir()}"
				value="Excluir" styleClass="btn btn-danger btn-xs" />
		</div>

	</h:form>

	<h:messages />

	<h:form id="form-listagem">
		<p:selectOneMenu id="selecao" value="#{produtoController.produto}" >
			<p:ajax event="change" update="form-cadastro" />
			<f:selectItems value="#{produtoController.produtos}" itemLabel="#{produto.descricao}" var="produto" />
		</p:selectOneMenu>
	</h:form>
</body>
</html>